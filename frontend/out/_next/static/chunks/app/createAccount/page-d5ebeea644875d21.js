(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{5695:(e,r,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})},6004:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>o});var a=s(5155),t=s(5695),n=s(2115);function o(){let[e,r]=(0,n.useState)(""),s=(0,t.useRouter)();return(0,n.useEffect)(()=>{!async function(){200==(await fetch("".concat("http://localhost:8000/api","/session"),{method:"GET",cache:"no-cache",credentials:"include"})).status&&s.replace("/")}()},[s]),(0,a.jsxs)("div",{className:"flex flex-col gap-4 w-full h-full items-center justify-center",children:[(0,a.jsx)("h1",{className:"flex text-3xl",children:"Create Standard Account"}),(0,a.jsxs)("form",{action:function(e){!async function(){var a,t,n;if(null==e)return;let o=null==(a=e.get("username"))?void 0:a.toString(),l=null==(t=e.get("password"))?void 0:t.toString(),d=null==(n=e.get("password2"))?void 0:n.toString();if(null==o||null==l||null==d)return r("User Error. Please provide values in the form.");if(l!=d)return r("User Error. Your passwords do not match each other.");let c={username:o,password:l},i=await fetch("".concat("http://localhost:8000/api","/register"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(201==i.status)r("Successfully created account in."),await fetch("".concat("http://localhost:8000/api","/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),s.replace("/");else if(401==i.status)r("Unauthorised. Invalid Credentials.");else{let{error:e}=await i.json();r("Server Response; ".concat(e))}}()},className:"flex flex-col gap-4 w-[50%] border-gray-200 border-[1px] shadow-md p-4 rounded-md",children:[(0,a.jsx)("input",{type:"text",id:"username",name:"username",required:!0,placeholder:"Username",className:"flex px-4 py-2 rounded-sm shadow-md bg-gray-100 border-[1px] border-gray-400"}),(0,a.jsx)("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"Password",className:"flex px-4 py-2 rounded-sm shadow-md bg-gray-100 border-[1px] border-gray-400"}),(0,a.jsx)("input",{type:"password",id:"password2",name:"password2",required:!0,placeholder:"Password (again)",className:"flex px-4 py-2 rounded-sm shadow-md bg-gray-100 border-[1px] border-gray-400"}),(0,a.jsx)("button",{type:"submit",className:"flex px-4 py-2 rounded-sm shadow-md bg-blue-200 hover:bg-blue-400 hover:underline text-center items-center justify-center",children:"Create"}),(0,a.jsx)("p",{className:"flex text-1xl italic",children:e})]})]})}},6535:(e,r,s)=>{Promise.resolve().then(s.bind(s,6004))}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(6535)),_N_E=e.O()}]);