(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{5695:(e,r,s)=>{"use strict";var t=s(8999);s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},9417:(e,r,s)=>{Promise.resolve().then(s.bind(s,9690))},9690:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var t=s(5155),a=s(5695),n=s(2115);function l(){let[e,r]=(0,n.useState)(""),s=(0,a.useRouter)();return(0,n.useEffect)(()=>{!async function(){200==(await fetch("".concat("http://localhost:8000/api","/session"),{method:"GET",cache:"no-cache",credentials:"include"})).status&&s.replace("/")}()},[s]),(0,t.jsxs)("div",{className:"flex flex-col gap-4 w-full h-full items-center justify-center",children:[(0,t.jsx)("h1",{className:"flex text-3xl",children:"Login"}),(0,t.jsxs)("form",{action:function(e){!async function(){var t,a;if(null==e)return;let n=null==(t=e.get("username"))?void 0:t.toString(),l=null==(a=e.get("password"))?void 0:a.toString();if(null==n||null==l)return;let o=await fetch("".concat("http://localhost:8000/api","/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:l})});200==o.status?(r("Successfully logged in."),s.replace("/")):401==o.status?r("Unauthorised. Invalid Credentials."):r("Server Error.")}()},className:"flex flex-col gap-4 w-[50%] border-gray-200 border-[1px] shadow-md p-4 rounded-md",children:[(0,t.jsx)("input",{type:"text",id:"username",name:"username",required:!0,placeholder:"Username",className:"flex px-4 py-2 rounded-sm shadow-md bg-gray-100 border-[1px] border-gray-400"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"Password",className:"flex px-4 py-2 rounded-sm shadow-md bg-gray-100 border-[1px] border-gray-400"}),(0,t.jsx)("button",{type:"submit",className:"flex px-4 py-2 rounded-sm shadow-md bg-blue-200 hover:bg-blue-400 hover:underline text-center items-center justify-center",children:"Login"}),(0,t.jsx)("p",{className:"flex text-1xl italic",children:e})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(9417)),_N_E=e.O()}]);